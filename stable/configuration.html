
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Configuration &#8212; pytest-order 1.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/nature.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Using pytest-order with other pytest plugins" href="other_plugins.html" />
    <link rel="prev" title="Usage" href="usage.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="other_plugins.html" title="Using pytest-order with other pytest plugins"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="usage.html" title="Usage"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pytest-order 1.0.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Configuration</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="configuration">
<h1>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h1>
<p>There are a few command line options that change the behavior of the
plugin. As with any pytest option, you can add the options to your
<code class="docutils literal notranslate"><span class="pre">pytest.ini</span></code> if you want to have them applied to all tests automatically:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">pytest</span><span class="p">]</span>
<span class="p">;</span> <span class="n">always</span> <span class="n">order</span> <span class="n">tests</span> <span class="k">with</span> <span class="n">dependency</span> <span class="n">markers</span>
<span class="n">addopts</span> <span class="o">=</span> <span class="o">--</span><span class="n">order</span><span class="o">-</span><span class="n">dependencies</span>
</pre></div>
</div>
<section id="order-scope">
<span id="id1"></span><h2><code class="docutils literal notranslate"><span class="pre">--order-scope</span></code><a class="headerlink" href="#order-scope" title="Permalink to this headline">¶</a></h2>
<p>By default, tests are ordered per session, e.g. across all modules in the
test run. Sometimes, you want to order tests per module or per test class
instead. Consider that you have a growing number of test modules that you
want to run simultaneously, with tests ordered per module. Per default you
would need to make sure that the order numbers increases globally, if you
want to run the test modules consecutively and order the test per module.</p>
<p>If you use the option <code class="docutils literal notranslate"><span class="pre">--order-scope=module</span></code>, there is no need for this.
You can enumerate your tests starting with 0 or 1 in each module, and the tests
will only be ordered inside each module. Using <code class="docutils literal notranslate"><span class="pre">--order-scope=class</span></code>
additionally considers test classes–each test class is considered
separately for ordering the tests. If a module has both test classes and
separate test functions, these test functions are handled separately from the
test classes. If a module has no test classes, the effect is the same as
if using <code class="docutils literal notranslate"><span class="pre">--order-scope=module</span></code>.</p>
<p>For example consider two test modules:</p>
<p><strong>tests/test_module1.py</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">order</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test2</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">order</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test1</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p><strong>tests/test_module2.py</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">order</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test2</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">order</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test1</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>Here is what you get using session and module-scoped sorting:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pytest tests -vv
============================= test session starts ==============================
...

tests/test_module1.py:9: test1 PASSED
tests/test_module2.py:9: test1 PASSED
tests/test_module1.py:5: test2 PASSED
tests/test_module2.py:5: test2 PASSED
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pytest tests -vv --order-scope=module
============================= test session starts ==============================
...

tests/test_module1.py:9: test1 PASSED
tests/test_module1.py:5: test2 PASSED
tests/test_module2.py:9: test1 PASSED
tests/test_module2.py:5: test2 PASSED
</pre></div>
</div>
</section>
<section id="order-scope-level">
<h2><code class="docutils literal notranslate"><span class="pre">--order-scope-level</span></code><a class="headerlink" href="#order-scope-level" title="Permalink to this headline">¶</a></h2>
<p>This is an alternative option to define the order scope. It defines the
directory level which is used as the order scope, counting from the root
directory. The resulting scope is between the session and module
scopes defined via <code class="docutils literal notranslate"><span class="pre">--order-scope</span></code>, where <code class="docutils literal notranslate"><span class="pre">--order-scope-level=0</span></code> is the
same as session scope, while setting the level to the number of test
directory levels would result in module scope.</p>
<p>Consider the following directory structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">order_scope_level</span>
  <span class="n">feature1</span>
    <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
    <span class="n">test_a</span><span class="o">.</span><span class="n">py</span>
    <span class="n">test_b</span><span class="o">.</span><span class="n">py</span>
  <span class="n">feature2</span>
    <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
    <span class="n">test_a</span><span class="o">.</span><span class="n">py</span>
    <span class="n">test_b</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>with the test contents:</p>
<p><strong>test_a.py</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">order</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_four</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">order</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_three</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p><strong>test_b.py</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">order</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_two</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">order</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_one</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>The idea here is to test each feature separately, while ordering the tests
across the test modules for each feature.</p>
<p>If we use session scope, we get:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pytest -v order_scope_level
============================= test session starts ==============================
...

order_scope_level/feature1/test_a.py::test_one PASSED
order_scope_level/feature2/test_a.py::test_one PASSED
order_scope_level/feature1/test_a.py::test_two PASSED
order_scope_level/feature2/test_a.py::test_two PASSED
order_scope_level/feature1/test_b.py::test_three PASSED
order_scope_level/feature2/test_b.py::test_three PASSED
order_scope_level/feature1/test_b.py::test_four PASSED
order_scope_level/feature2/test_b.py::test_four PASSED
</pre></div>
</div>
<p>which mixes the features.</p>
<p>Using module scope instead separates the features, but does not order the
modules as wanted:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pytest -v --order-scope=module order_scope_level
============================= test session starts ==============================
...

order_scope_level/feature1/test_a.py::test_three PASSED
order_scope_level/feature1/test_a.py::test_four PASSED
order_scope_level/feature1/test_b.py::test_one PASSED
order_scope_level/feature1/test_b.py::test_two PASSED
order_scope_level/feature2/test_a.py::test_three PASSED
order_scope_level/feature2/test_a.py::test_four PASSED
order_scope_level/feature2/test_b.py::test_one PASSED
order_scope_level/feature2/test_b.py::test_two PASSED
</pre></div>
</div>
<p>To get the wanted behavior, we can use <code class="docutils literal notranslate"><span class="pre">--order-scope-level=2</span></code>, which keeps
the first two directory levels:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pytest tests -v --order-scope-level=2 order_scope_level
============================= test session starts ==============================
...

order_scope_level/feature1/test_b.py::test_one PASSED
order_scope_level/feature1/test_b.py::test_two PASSED
order_scope_level/feature1/test_a.py::test_three PASSED
order_scope_level/feature1/test_a.py::test_four PASSED
order_scope_level/feature2/test_b.py::test_one PASSED
order_scope_level/feature2/test_b.py::test_two PASSED
order_scope_level/feature2/test_a.py::test_three PASSED
order_scope_level/feature2/test_a.py::test_four PASSED
</pre></div>
</div>
<p>Note that using a level of 0 or 1 would cause the same result as session
scope in this example, and any level greater than 2 would emulate module scope.</p>
</section>
<section id="order-group-scope">
<h2><code class="docutils literal notranslate"><span class="pre">--order-group-scope</span></code><a class="headerlink" href="#order-group-scope" title="Permalink to this headline">¶</a></h2>
<p>This option is also related to the order scope. It defines the scope inside
which tests may be reordered. Consider you have several test modules which
you want to order, but you don’t want to mix the tests of several modules
because the module setup is costly. In this case you can set the group order
scope to “module”, meaning that first the tests are ordered inside each
module (the same as with the module order scope), but afterwards the modules
themselves are sorted without changing the order inside each module.</p>
<p>Consider these two test modules:</p>
<p><strong>tests/test_module1.py</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">order</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test1</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="k">def</span> <span class="nf">test2</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p><strong>tests/test_module2.py</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">order</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test1</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="k">def</span> <span class="nf">test2</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>Here is what you get using different scopes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pytest tests -vv
============================= test session starts ==============================
...

tests/test_module2.py:9: test1 PASSED
tests/test_module1.py:9: test1 PASSED
tests/test_module1.py:5: test2 PASSED
tests/test_module2.py:5: test2 PASSED
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pytest tests -vv --order-scope=module
============================= test session starts ==============================
...

tests/test_module1.py:9: test1 PASSED
tests/test_module1.py:5: test2 PASSED
tests/test_module2.py:9: test1 PASSED
tests/test_module2.py:5: test2 PASSED
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pytest tests -vv --order-group-scope=module
============================= test session starts ==============================
...

tests/test_module2.py:9: test1 PASSED
tests/test_module2.py:5: test2 PASSED
tests/test_module1.py:9: test1 PASSED
tests/test_module1.py:5: test2 PASSED
</pre></div>
</div>
<p>The ordering of the module groups is done based on the lowest
non-negative order number present in the module (e.g. the order number of
the first test). If only negative numbers are present, the highest negative
number (e.g. the number of the last test) is used, and these modules will be
ordered at the end. Modules without order numbers will be sorted between
modules with a non-negative order number and modules with a negative order
number, the same way tests are sorted inside a module.</p>
<p>The group order scope defaults to the order scope. In this case the tests are
ordered the same way as without the group order scope. The setting takes effect
only if the scope is less than the order scope, e.g. there are three
possibilities:</p>
<ul class="simple">
<li><p>order scope “session”, order group scope “module” - this is shown in the
example above: first tests in each module are ordered, afterwards the modules</p></li>
<li><p>order scope “module”, order group scope “class” - first orders tests inside
each class, then the classes inside each module</p></li>
<li><p>order scope “session”, order group scope “class” - first orders tests inside
each class, then the classes inside each module, and finally the modules
relatively to each other</p></li>
</ul>
<p>This option will also work with relative markers, and with dependency markers
if using the <a class="reference internal" href="#order-dependencies"><span class="std std-ref">--order-dependencies</span></a> option.</p>
<p>Here is a similar example using relative markers:</p>
<p><strong>tests/test_module1.py</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">order</span><span class="p">(</span><span class="n">after</span><span class="o">=</span><span class="s2">&quot;test_module2.py::test1&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test1</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="k">def</span> <span class="nf">test2</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p><strong>tests/test_module2.py</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>

<span class="k">def</span> <span class="nf">test1</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">order</span><span class="p">(</span><span class="n">before</span><span class="o">=</span><span class="s2">&quot;test1&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test2</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>Here is what you get using different scopes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pytest tests -vv
============================= test session starts ==============================
...

tests/test_module1.py:5: test2 PASSED
tests/test_module2.py:9: test1 PASSED
tests/test_module2.py:5: test2 PASSED
tests/test_module1.py:9: test1 PASSED
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pytest tests -vv --order-group-scope=module
============================= test session starts ==============================
...

tests/test_module2.py:9: test1 PASSED
tests/test_module2.py:5: test2 PASSED
tests/test_module1.py:9: test1 PASSED
tests/test_module1.py:5: test2 PASSED
</pre></div>
</div>
<p>You can see that in the second run the second test module is run before the
first because of the dependency, but the tests inside each module remain in
the same order as before. Note that using module scope as in the example
above doesn’t make sense here due to the dependencies between modules.</p>
<p>This will also work with dependency markers if using the
<a class="reference internal" href="#order-dependencies"><span class="std std-ref">--order-dependencies</span></a> option.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This option will not work together well with the sparse ordering option.</p>
</div>
</section>
<section id="order-dependencies">
<span id="id2"></span><h2><code class="docutils literal notranslate"><span class="pre">--order-dependencies</span></code><a class="headerlink" href="#order-dependencies" title="Permalink to this headline">¶</a></h2>
<p>This defines the behavior if the <a class="reference external" href="https://pypi.org/project/pytest-dependency/">pytest-dependency</a> plugin is used.
By default, <code class="docutils literal notranslate"><span class="pre">dependency</span></code> marks are only considered if they coexist with an
<code class="docutils literal notranslate"><span class="pre">order</span></code> mark. In this case it is checked if the ordering would break the
dependency, and is ignored if this is the case. Consider the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>

<span class="k">def</span> <span class="nf">test_a</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">True</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">dependency</span><span class="p">(</span><span class="n">depends</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;test_a&quot;</span><span class="p">])</span>
<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">order</span><span class="p">(</span><span class="s2">&quot;first&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_b</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">True</span>
</pre></div>
</div>
<p>In this case, the ordering would break the dependency and is therefore
ignored. This behavior is independent of the option. Now consider the
following tests:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">dependency</span><span class="p">(</span><span class="n">depends</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;test_b&quot;</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">test_a</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">True</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">dependency</span>
<span class="k">def</span> <span class="nf">test_b</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">True</span>
</pre></div>
</div>
<p>By default, <code class="docutils literal notranslate"><span class="pre">test_a</span></code> is not run, because it depends on <code class="docutils literal notranslate"><span class="pre">test_b</span></code>, which
is only run after <code class="docutils literal notranslate"><span class="pre">test_b</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pytest tests -vv
============================= test session starts ==============================
...
test_dep.py::test_a SKIPPED
test_dep.py::test_b PASSED
</pre></div>
</div>
<p>If you use <code class="docutils literal notranslate"><span class="pre">--order-dependencies</span></code>, this will change–the tests will now be
reordered according to the dependency and both run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pytest tests -vv --order-dependencies
============================= test session starts ==============================
...
test_dep.py::test_b PASSED
test_dep.py::test_a PASSED
</pre></div>
</div>
<p>Note that a similar feature may be added to <code class="docutils literal notranslate"><span class="pre">pytest-dependency</span></code> -
if this is done, this option will not be needed, but for the time being you
can use both plugins together to get this behavior.
Note that <code class="docutils literal notranslate"><span class="pre">pytest-order</span></code> does not replace <code class="docutils literal notranslate"><span class="pre">pytest-dependency</span></code>–it just
adds ordering to the existing functionality if needed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">pytest-dependency</span></code> also has the possibility to <a class="reference external" href="https://pytest-dependency.readthedocs.io/en/stable/usage.html#marking-dependencies-at-runtime">add dependencies at
runtime</a> using <code class="docutils literal notranslate"><span class="pre">pytest_dependency.depends</span></code>. These dependencies cannot be
detected at collection time and therefore are not included in ordering.
The same is true for the <a class="reference external" href="https://pytest-dependency.readthedocs.io/en/stable/advanced.html#dynamic-compilation-of-marked-parameters">dynamic compilation of marked parameters</a>.</p>
</div>
</section>
<section id="indulgent-ordering">
<span id="id3"></span><h2><code class="docutils literal notranslate"><span class="pre">--indulgent-ordering</span></code><a class="headerlink" href="#indulgent-ordering" title="Permalink to this headline">¶</a></h2>
<p>You may sometimes find that you want to suggest an ordering of tests, while
allowing it to be overridden for good reason. For example, if you run your test
suite in parallel and have a number of tests which are particularly slow, it
might be desirable to start those tests running first, in order to optimize
your completion time. You can use the <code class="docutils literal notranslate"><span class="pre">pytest-order</span></code> plugin to inform pytest
of this.</p>
<p>Now suppose you also want to prioritize tests which failed during the
previous run, by using the <code class="docutils literal notranslate"><span class="pre">--failed-first</span></code> option. By default,
pytest-order will override the <code class="docutils literal notranslate"><span class="pre">--failed-first</span></code> order, but by adding the
<code class="docutils literal notranslate"><span class="pre">--indulgent-ordering</span></code> option, you can ask pytest to run the sort from
pytest-order <em>before</em> the sort from <code class="docutils literal notranslate"><span class="pre">--failed-first</span></code>, allowing the failed
tests to be sorted to the front (note that in pytest versions from 6.0 on,
this seems not to be needed anymore, at least in this specific case).</p>
</section>
<section id="sparse-ordering">
<span id="id4"></span><h2><code class="docutils literal notranslate"><span class="pre">--sparse-ordering</span></code><a class="headerlink" href="#sparse-ordering" title="Permalink to this headline">¶</a></h2>
<p>Ordering tests by ordinals where some numbers are missing by default behaves
the same as if the the ordinals are consecutive. For example, these tests:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">order</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_two</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">True</span>

<span class="k">def</span> <span class="nf">test_three</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">True</span>

<span class="k">def</span> <span class="nf">test_four</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">True</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">order</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_one</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">True</span>
</pre></div>
</div>
<p>are executed in the same order as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">order</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_two</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">True</span>

<span class="k">def</span> <span class="nf">test_three</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">True</span>

<span class="k">def</span> <span class="nf">test_four</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">True</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">order</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_one</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">True</span>
</pre></div>
</div>
<p>e.g. you get:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pytest tests -vv
============================= test session starts ==============================
...
test_module.py:13: test_one PASSED
test_module.py:3: test_two PASSED
test_module.py:6: test_three PASSED
test_module.py:9: test_four PASSED
</pre></div>
</div>
<p>The gaps between numbers, and the fact that the starting number is not 0,
are ignored. This is consistent with the current behavior of
<code class="docutils literal notranslate"><span class="pre">pytest-ordering</span></code>.</p>
<p>If you use the <code class="docutils literal notranslate"><span class="pre">--sparse-ordering</span></code> option, the behavior will change:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pytest tests -vv --sparse-ordering
============================= test session starts ==============================
...
test_module.py:6: test_three PASSED
test_module.py:13: test_one PASSED
test_module.py:9: test_four PASSED
test_module.py:3: test_two PASSED
</pre></div>
</div>
<p>Now all missing numbers (starting with 0) are filled with unordered tests, as
long as unordered tests are left. In the shown example, <code class="docutils literal notranslate"><span class="pre">test_three</span></code>
is filled in for the missing number 0, and <code class="docutils literal notranslate"><span class="pre">test_four</span></code> is filled in for the
missing number 2. This will also work for tests with negative order numbers
(or the respective names). The missing ordinals are filled with unordered
tests first from the start, then from the end if there are negative numbers,
and the rest will be in between (e.g. between positive and negative numbers),
as it is without this option.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Configuration</a><ul>
<li><a class="reference internal" href="#order-scope"><code class="docutils literal notranslate"><span class="pre">--order-scope</span></code></a></li>
<li><a class="reference internal" href="#order-scope-level"><code class="docutils literal notranslate"><span class="pre">--order-scope-level</span></code></a></li>
<li><a class="reference internal" href="#order-group-scope"><code class="docutils literal notranslate"><span class="pre">--order-group-scope</span></code></a></li>
<li><a class="reference internal" href="#order-dependencies"><code class="docutils literal notranslate"><span class="pre">--order-dependencies</span></code></a></li>
<li><a class="reference internal" href="#indulgent-ordering"><code class="docutils literal notranslate"><span class="pre">--indulgent-ordering</span></code></a></li>
<li><a class="reference internal" href="#sparse-ordering"><code class="docutils literal notranslate"><span class="pre">--sparse-ordering</span></code></a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="usage.html"
                        title="previous chapter">Usage</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="other_plugins.html"
                        title="next chapter">Using pytest-order with other pytest plugins</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/configuration.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="other_plugins.html" title="Using pytest-order with other pytest plugins"
             >next</a> |</li>
        <li class="right" >
          <a href="usage.html" title="Usage"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pytest-order 1.0.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Configuration</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    </div>
  </body>
</html>